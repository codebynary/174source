#ifndef __GNET_GCATSROLE_RPCDATA
#define __GNET_GCATSROLE_RPCDATA

#include "rpcdefs.h"

#include "gcatsitem"

namespace GNET
{
	class GCatsRole : public GNET::Rpc::Data
	{
	public:
		unsigned int roleid;
		Octets name;
		Octets title;
		int x;
		int y;
		int z;
		GCatsItemVector items;

	public:
		GCatsRole (unsigned int l_roleid = 0,const Octets& l_name = Octets(),const Octets& l_title = Octets()
			,int l_x = 0,int l_y = 0,int l_z = 0
			)
			: roleid(l_roleid),name(l_name),title(l_title)
			,x(l_x),y(l_y),z(l_z)
			
		{
		}

		GCatsRole(const GCatsRole &rhs)
			: roleid(rhs.roleid),name(rhs.name),title(rhs.title),
			x(rhs.x),y(rhs.y),z(rhs.z),
			items(rhs.items) { }

		Rpc::Data *Clone() const { return new GCatsRole(*this); }

		Rpc::Data& operator = (const Rpc::Data &rhs)
		{
			const GCatsRole *r = dynamic_cast<const GCatsRole *>(&rhs);
			if (r && r != this)
			{
				roleid = r->roleid;
				name = r->name;
				title = r->title;
				x = r->x;
				y = r->y;
				z = r->z;
				items = r->items;
			}
			return *this;
		}

		GCatsRole& operator = (const GCatsRole &rhs)
		{
			const GCatsRole *r = &rhs;
			if (r && r != this)
			{
				roleid = r->roleid;
				name = r->name;
				title = r->title;
				x = r->x;
				y = r->y;
				z = r->z;
				items = r->items;
			}
			return *this;
		}

		OctetsStream& marshal(OctetsStream & os) const
		{
			os << roleid;
			os << name;
			os << title;
			os << x;
			os << y;
			os << z;
			os << items;
			return os;
		}

		const OctetsStream& unmarshal(const OctetsStream &os)
		{
			os >> roleid;
			os >> name;
			os >> title;
			os >> x;
			os >> y;
			os >> z;
			os >> items;
			return os;
		}

	};
};
#endif
